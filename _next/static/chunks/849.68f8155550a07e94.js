"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[849],{9849:function(e,t,r){r.r(t),r.d(t,{default:function(){return L}});var o,i=r(67294),u=r(62249),a="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof global?global:"u">typeof self?self:{},f={},l={get exports(){return f},set exports(n){f=n}},c={};l.exports=function(){if(o)return c;o=1;var e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function f(t,o,i){var f,l={},c=null,s=null;for(f in void 0!==i&&(c=""+i),void 0!==o.key&&(c=""+o.key),void 0!==o.ref&&(s=o.ref),o)r.call(o,f)&&!a.hasOwnProperty(f)&&(l[f]=o[f]);if(t&&t.defaultProps)for(f in o=t.defaultProps)void 0===l[f]&&(l[f]=o[f]);return{$$typeof:e,type:t,key:c,ref:s,props:l,_owner:u.current}}return c.Fragment=t,c.jsx=f,c.jsxs=f,c}();let s=f.jsx;var d=0/0,p=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,m=/^0o[0-7]+$/i,v=parseInt,w="object"==typeof a&&a&&a.Object===Object&&a,h="object"==typeof self&&self&&self.Object===Object&&self,g=w||h||Function("return this")(),O=Object.prototype.toString,_=Math.max,E=Math.min,j=function(){return g.Date.now()};function k(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function S(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||(r=t)&&"object"==typeof r&&"[object Symbol]"==O.call(t))return d;if(k(e)){var t,r,o="function"==typeof e.valueOf?e.valueOf():e;e=k(o)?o+"":o}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(p,"");var i=b.test(e);return i||m.test(e)?v(e.slice(2),i?2:8):y.test(e)?d:+e}var T=function(e,t,r){var o,i,u,a,f,l,c=0,s=!1,d=!1,p=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var r=o,u=i;return o=i=void 0,c=t,a=e.apply(u,r)}function b(e){var r=e-l,o=e-c;return void 0===l||r>=t||r<0||d&&o>=u}function m(){var e,r,o,i=j();if(b(i))return v(i);f=setTimeout(m,(e=i-l,r=i-c,o=t-e,d?E(o,u-r):o))}function v(e){return f=void 0,p&&o?y(e):(o=i=void 0,a)}function w(){var e,r=j(),u=b(r);if(o=arguments,i=this,l=r,u){if(void 0===f)return c=e=l,f=setTimeout(m,t),s?y(e):a;if(d)return f=setTimeout(m,t),y(l)}return void 0===f&&(f=setTimeout(m,t)),a}return t=S(t)||0,k(r)&&(s=!!r.leading,u=(d="maxWait"in r)?_(S(r.maxWait)||0,t):u,p="trailing"in r?!!r.trailing:p),w.cancel=function(){void 0!==f&&clearTimeout(f),c=0,o=l=i=f=void 0},w.flush=function(){return void 0===f?a:v(j())},w};let R=[],x={width:"100%",height:"100%"},D=(0,i.forwardRef)(function({className:e,children:t,debounceTime:r=300,ignoreDimensions:o=R,parentSizeStyles:u,enableDebounceLeadingCall:a=!0,resizeObserverPolyfill:f,...l},c){var d;let p=(0,i.useRef)(null),y=(0,i.useRef)(0),[b,m]=(0,i.useState)({width:0,height:0,top:0,left:0}),v=(0,i.useMemo)(()=>{let e=Array.isArray(o)?o:[o];return T(t=>{m(r=>Object.keys(r).filter(e=>r[e]!==t[e]).every(t=>e.includes(t))?r:t)},r,{leading:a})},[r,a,o]);return(0,i.useEffect)(()=>{let e=f||window.ResizeObserver,t=new e(e=>{e.forEach(e=>{let{left:t,top:r,width:o,height:i}=(null==e?void 0:e.contentRect)??{};y.current=window.requestAnimationFrame(()=>{v({width:o,height:i,top:r,left:t})})})});return p.current&&t.observe(p.current),()=>{window.cancelAnimationFrame(y.current),t.disconnect(),v.cancel()}},[v,f]),s("div",{style:{...x,...u},ref:(d=[c,p],e=>{d.forEach(t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)})}),className:e,...l,children:t({...b,ref:p.current,resize:v})})}),L=(0,i.forwardRef)(({scene:e,style:t,onMouseDown:r,onMouseUp:o,onMouseHover:a,onKeyDown:f,onKeyUp:l,onStart:c,onLookAt:d,onFollow:p,onWheel:y,onLoad:b,renderOnDemand:m=!0,...v},w)=>{let h=(0,i.useRef)(null),[g,O]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{let t;O(!0);let i=[{name:"mouseDown",cb:r},{name:"mouseUp",cb:o},{name:"mouseHover",cb:a},{name:"keyDown",cb:f},{name:"keyUp",cb:l},{name:"start",cb:c},{name:"lookAt",cb:d},{name:"follow",cb:p},{name:"scroll",cb:y}];return h.current&&(t=new u.M(h.current,{renderOnDemand:m}),async function(){for(let r of(await t.load(e),i))r.cb&&t.addEventListener(r.name,r.cb);O(!1),null==b||b(t)}()),()=>{for(let e of i)e.cb&&t.removeEventListener(e.name,e.cb);t.dispose()}},[e]),s(D,{ref:w,parentSizeStyles:t,debounceTime:50,...v,children:()=>s("canvas",{ref:h,style:{display:g?"none":"block"}})})})}}]);