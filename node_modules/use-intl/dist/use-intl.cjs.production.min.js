"use strict";function r(r){return r&&"object"==typeof r&&"default"in r?r.default:r}Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=r(e),n=r(require("intl-messageformat"));function o(){return(o=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}).apply(this,arguments)}function u(r){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}function i(r,e){return(i=Object.setPrototypeOf||function(r,e){return r.__proto__=e,r})(r,e)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(r){return!1}}function c(r,e,t){return(c=a()?Reflect.construct:function(r,e,t){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(r,n));return t&&i(o,t.prototype),o}).apply(null,arguments)}function f(r){var e="function"==typeof Map?new Map:void 0;return(f=function(r){if(null===r||-1===Function.toString.call(r).indexOf("[native code]"))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(r))return e.get(r);e.set(r,t)}function t(){return c(r,arguments,u(this).constructor)}return t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,r)})(r)}var l,s=e.createContext(void 0);function p(r){return[r.namespace,r.key].filter((function(r){return null!=r})).join(".")}function v(r){console.error(r)}(l=exports.IntlErrorCode||(exports.IntlErrorCode={})).MISSING_MESSAGE="MISSING_MESSAGE",l.MISSING_FORMAT="MISSING_FORMAT",l.INSUFFICIENT_PATH="INSUFFICIENT_PATH",l.INVALID_MESSAGE="INVALID_MESSAGE",l.FORMATTING_ERROR="FORMATTING_ERROR";var d=function(r){var e,t;function n(e,t){var n,o=e;return t&&(o+=": "+t),(n=r.call(this,o)||this).code=e,t&&(n.originalMessage=t),n}return t=r,(e=n).prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t,n}(f(Error));function m(r,e){return r?Object.keys(r).reduce((function(t,n){return t[n]=o({timeZone:e},r[n]),t}),{}):r}function E(){var r=e.useContext(s);if(!r)throw new Error(void 0);return r}function I(r,e,t){if(!r)throw new Error(void 0);var n=r;return e.split(".").forEach((function(r){var e=n[r];if(null==r||null==e)throw new Error(void 0);n=e})),n}function y(){return new Date}exports.IntlError=d,exports.IntlProvider=function(r){var e=r.children,n=r.onError,u=void 0===n?v:n,i=r.getMessageFallback,a=void 0===i?p:i,c=function(r,e){if(null==r)return{};var t,n,o={},u=Object.keys(r);for(n=0;n<u.length;n++)e.indexOf(t=u[n])>=0||(o[t]=r[t]);return o}(r,["children","onError","getMessageFallback"]);return t.createElement(s.Provider,{value:o({},c,{onError:u,getMessageFallback:a})},e)},exports.useIntl=function(){var r=E(),e=r.formats,t=r.locale,n=r.now,u=r.onError,i=r.timeZone;function a(r,e,t,n){var o;try{o=function(r,e){var t;if("string"==typeof e){if(!(t=null==r?void 0:r[e])){var n=new d(exports.IntlErrorCode.MISSING_FORMAT,void 0);throw u(n),n}}else t=e;return t}(t,e)}catch(e){return String(r)}try{return n(o)}catch(e){return u(new d(exports.IntlErrorCode.FORMATTING_ERROR,e.message)),String(r)}}return{formatDateTime:function(r,n){return a(r,n,null==e?void 0:e.dateTime,(function(e){var n;return!i||null!=(n=e)&&n.timeZone||(e=o({},e,{timeZone:i})),new Intl.DateTimeFormat(t,e).format(r)}))},formatNumber:function(r,n){return a(r,n,null==e?void 0:e.number,(function(e){return new Intl.NumberFormat(t,e).format(r)}))},formatRelativeTime:function(r,e){try{if(!e){if(!n)throw new Error(void 0);e=n}var o=r instanceof Date?r:new Date(r),i=e instanceof Date?e:new Date(e),a=function(r){var e,t,n=Math.abs(r);return n<60?(t="second",e=Math.round(r)):n<3600?(t="minute",e=Math.round(r/60)):n<86400?(t="hour",e=Math.round(r/3600)):n<604800?(t="day",e=Math.round(r/86400)):n<2628e3?(t="week",e=Math.round(r/604800)):n<31536e3?(t="month",e=Math.round(r/2628e3)):(t="year",e=Math.round(r/31536e3)),{value:e,unit:t}}((o.getTime()-i.getTime())/1e3),c=a.unit,f=a.value;return new Intl.RelativeTimeFormat(t,{numeric:"auto"}).format(f,c)}catch(e){return u(new d(exports.IntlErrorCode.FORMATTING_ERROR,e.message)),String(r)}}}},exports.useLocale=function(){return E().locale},exports.useNow=function(r){var t=null==r?void 0:r.updateInterval,n=E().now,o=e.useState(n||y()),u=o[0],i=o[1];return e.useEffect((function(){if(t){var r=setInterval((function(){i(y())}),t);return function(){clearInterval(r)}}}),[n,t]),u},exports.useTimeZone=function(){return E().timeZone},exports.useTranslations=function(r){var t=E(),u=t.defaultTranslationValues,i=t.formats,a=t.getMessageFallback,c=t.locale,f=t.messages,l=t.onError,s=t.timeZone,p=e.useRef({}),v=e.useMemo((function(){try{if(!f)throw new Error(void 0);var e=r?I(f,r):f;if(!e)throw new Error(void 0);return e}catch(r){var t=new d(exports.IntlErrorCode.MISSING_MESSAGE,r.message);return l(t),t}}),[f,r,l]);return e.useMemo((function(){function t(e,t,n){var o=new d(t,n);return l(o),a({error:o,key:e,namespace:r})}function f(f,l,E){var y,h=p.current;if(v instanceof d)return a({error:v,key:f,namespace:r});var S,M=v,g=[r,f].filter((function(r){return null!=r})).join(".");if(null!=(y=h[c])&&y[g])S=h[c][g];else{var w;try{w=I(M,f)}catch(r){return t(f,exports.IntlErrorCode.MISSING_MESSAGE,r.message)}if("object"==typeof w)return t(f,exports.IntlErrorCode.INSUFFICIENT_PATH,void 0);try{S=new n(w,c,function(r,e){var t=e?o({},r,{dateTime:m(r.dateTime,e)}):r;return o({},t,{date:null==t?void 0:t.dateTime,time:null==t?void 0:t.dateTime})}(o({},i,E),s))}catch(r){return t(f,exports.IntlErrorCode.INVALID_MESSAGE,r.message)}h[c]||(h[c]={}),h[c][g]=S}try{var T=S.format(function(r){if(0!==Object.keys(r).length){var t={};return Object.keys(r).forEach((function(n){var o=0,u=r[n];t[n]="function"==typeof u?function(r){var t=u(r);return e.isValidElement(t)?e.cloneElement(t,{key:n+o++}):t}:u})),t}}(o({},u,l)));if(null==T)throw new Error(void 0);return e.isValidElement(T)||Array.isArray(T)||"string"==typeof T?T:String(T)}catch(r){return t(f,exports.IntlErrorCode.FORMATTING_ERROR,r.message)}}function E(r,e,n){var o=f(r,e,n);return"string"!=typeof o?t(r,exports.IntlErrorCode.INVALID_MESSAGE,void 0):o}return E.rich=f,E.raw=function(e){if(v instanceof d)return a({error:v,key:e,namespace:r});var n=v;try{return I(n,e)}catch(r){return t(e,exports.IntlErrorCode.MISSING_MESSAGE,r.message)}},E}),[a,i,c,v,r,l,s,u])};
//# sourceMappingURL=use-intl.cjs.production.min.js.map
